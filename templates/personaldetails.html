<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Enrollment Form</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='enrollment-form.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='personaldetails.css') }}">
</head>
<body>

<!-- Header Bar -->
<div class="header-bar">
    <h2>Student Enrollment Form</h2>
</div>

<div class="step-indicator">
    Step 1 out of 4: Personal Data
</div>

<div class="form-container">
    <!-- Step Progress -->
    <div class="steps">
        <a href="{{ url_for('form') }}" class="step-btn active">Personal Data</a>
        <span class="arrow">→</span>
        <a href="{{ url_for('educational_background') }}" class="step-btn">Educational Background</a>
        <span class="arrow">→</span>
        <a href="{{ url_for('course_detail') }}" class="step-btn">Course Detail</a>
        <span class="arrow">→</span>
        <a href="{{ url_for('upload_requirements') }}" class="step-btn">Upload Requirements</a>
    </div>

    <div class="form-card">
        <form id="enrollForm" method="POST" action="/submit">
            <!-- First Row -->
             <input type="text" name="first_name" placeholder="First Name*" 
                   pattern="[A-Za-z\s\-]+" title="Only letters, spaces, and hyphens are allowed" required>
            <input type="text" name="last_name" placeholder="Last Name*" 
                   pattern="[A-Za-z\s\-]+" title="Only letters, spaces, and hyphens are allowed" required>
            <input type="text" name="middle_name" placeholder="Middle Name*" 
                   pattern="[A-Za-z\s\-]+" title="Only letters, spaces, and hyphens are allowed">

            <!-- Second Row -->
            <input type="text" name="address" placeholder="Home Address" class="full-width" required>
            <input type="text" name="contact" placeholder="Contact No." pattern="\d{11}" title="Enter 11-digit phone number" required>
            <input type="text" name="district" placeholder="Congressional District" required>

            <!-- Third Row -->
            <input type="email" name="email" placeholder="Email" class="full-width" required>

            <select name="gender" required>
                <option value="">Select Gender</option>
                <option>Male</option>
                <option>Female</option>
            </select>
            <input type="date" name="birthdate" placeholder="Birthdate" required>
            <input type="text" name="lrn" placeholder="LRN" pattern="\d{12}" title="Enter 12-digit LRN" required>
            <input type="number" name="age" placeholder="Age" min="1" max="120" required>

            <input type="text" name="citizenship" placeholder="Citizenship" required>
            <select name="civil_status" required>
                <option value="">Select Civil Status</option>
                <option>Single</option>
                <option>Married</option>
            </select>
            <input type="text" name="religion" placeholder="Religion" required>

            <hr class="form-divider">

            <!-- Parent & Guardian Details -->
           <input type="text" name="father_name" placeholder="Father’s Name" 
                   pattern="[A-Za-z\s\-]+" title="Only letters, spaces, and hyphens are allowed" required>
            <input type="text" name="father_occupation" placeholder="Occupation" required>
            <input type="text" name="father_contact" placeholder="Contact No." pattern="\d{11}" title="Enter 11-digit phone number" required>

            <input type="text" name="mother_name" placeholder="Mother’s Name" 
                   pattern="[A-Za-z\s\-]+" title="Only letters, spaces, and hyphens are allowed" required>
            <input type="text" name="mother_occupation" placeholder="Occupation" required>
            <input type="text" name="mother_contact" placeholder="Contact No." pattern="\d{11}" title="Enter 11-digit phone number" required>

            <input type="text" name="guardian_name" placeholder="Guardian’s Name" 
                   pattern="[A-Za-z\s\-]+" title="Only letters, spaces, and hyphens are allowed">
            <input type="text" name="guardian_occupation" placeholder="Occupation">
            <input type="text" name="guardian_contact" placeholder="Contact No." pattern="\d{11}" title="Enter 11-digit phone number">

            <div class="button-row">
                <button type="submit" class="btn-next">Next</button>
                <button type="button" class="btn-cancel">Cancel</button>
            </div>
        </form> 
    </div>
</div>

<script>
    const form = document.getElementById('enrollForm');

    form.addEventListener('submit', function(e) {
        // Validate email format
        const email = form.email.value.trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            alert('Please enter a valid email address.');
            e.preventDefault();
            return;
        }

        // Validate all phone numbers
        const phoneFields = ['contact', 'father_contact', 'mother_contact', 'guardian_contact'];
        const phoneRegex = /^09\d{9}$/;

        for (let field of phoneFields) {
            const value = form[field].value.trim();
            if (value && !phoneRegex.test(value)) {
                alert('Please enter a valid Philippine contact number (11 digits starting with 09) for ' + field.replace('_', ' ') + '.');
                e.preventDefault();
                return;
            }
        }

        // Check age validity (1–50)
        const age = parseInt(form.age.value);
        if (age < 1 || age > 50) {
            alert('Please enter a valid age between 1 and 50.');
            e.preventDefault();
            return;
        }
    });
</script>

<footer>
    &copy; 2025 Enrollment Form | Group 2
</footer>

</body>
</html>
